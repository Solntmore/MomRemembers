drop table IF EXISTS NOTE;
drop table IF EXISTS ATTACHMENT;

create TABLE IF NOT EXISTS NOTE(
	ID CHARACTER VARYING NOT NULL,
	NAME CHARACTER VARYING(50) NOT NULL,
	DESCRIPTION CHARACTER VARYING(200),
	LOCATION CHARACTER VARYING(200) NOT NULL,
	SEASON CHARACTER VARYING(200),
	LAST_UPDATE_DATE TIMESTAMP WITHOUT TIME ZONE,
	USER_LOGIN CHARACTER VARYING(50) NOT NULL,
	CONSTRAINT NOTE_PK_1 PRIMARY KEY (ID)
	CONSTRAINT NOTE_FK_1 FOREIGN KEY (ID) REFERENCES ATTACHMENT (NOTE_ID) ON DELETE CASCADE ON UPDATE CASCADE
);

create TABLE IF NOT EXISTS ATTACHMENT(
	ID CHARACTER VARYING GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	NAME CHARACTER VARYING,
	TYPE CHARACTER VARYING,
	NOTE_ID BIGINT NOT NULL,
	DATA BYTEA
);
